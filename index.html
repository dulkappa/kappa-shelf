<!DOCTYPE html>
<html lang="ja" ng-app="shelf">
  <head>
	<meta charset='utf-8'>
	<title>Shelf Management Application.</title>
	
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

  </head>

  <body ng-controller="ShelfController as shelf">

	<div class="navbar navbar-fixed-top navbar-static-top">
	  <div class="navbar-inner">
		<div class="container">
		  <a class="brand" href="#">Shelf Management Application</a>
		  <ul class="nav">
			<li class="active"><a href="#">Shelf</a></li>
			<li><a href="#">Report</a></li>
			<li><a href="#">Settings</a></li>
		  </ul>
		  <form class="navbar-form pull-right">
			<input type="button" class="btn btn-small btn-primary" value="Login" />
		  </form>
		</div>
	  </div>
	</div>

	<div class="container">
	  <form name="registrationForm" ng-controller="BookController as bookCtrl" ng-submit="bookCtrl.addBook(shelf)">
		<h3>Book Registration</h3>
		
		<table>
		  <tr>
			<th>type</th>
			<td>
			  <select ng-model="bookCtrl.book.type">
				<option value="文庫">文庫</option>
				<option value="新書">新書</option>
				<option value="教科書">教科書</option>
				<option value="マンガ">マンガ</option>
			  </select>
			</td>
		  </tr>
		  <tr>
			<th>title</th>
			<td><input type="text" required ng-model="bookCtrl.book.title" /></td>
		  </tr>
		  <tr>
			<th>author</th>
			<td><input type="text" required ng-model="bookCtrl.book.author" /></td>
		  </tr>
		  <tr>
			<th>publish</th>
			<td><input type="text" required ng-model="bookCtrl.book.publish" /></td>			
		  </tr>
		  <tr>
			<th>price</th>
			<td><input type="number" min="0" ng-model="bookCtrl.book.price" /></td>
		  </tr>
		  <tr>
			<th>year</th>
			<td><input type="number" ng-model="bookCtrl.book.year" /></td>
		  </tr>
		  <tr>
			<th>tags</th>
			<td><input type="text" ng-model="bookCtrl.book.tags" /></td>
		  </tr>
		  <tr>
			<th>impressions</th>
			<td><textarea rows="2" ng-model="bookCtrl.book.impressions"></textarea></td>
		  </tr>
		</table>
		<input type="submit" class="btn btn-primary pull-right" value="Submit" />
	  </form>
	  
	  <hr />

	  <p><b>登録件数: </b> <em>{{shelf.books.length}}</em> <b>件</b></p>
			
	  <table class="table table-striped" ng-show="shelf.books.length">
		<tr>
		  <th>type</th>
		  <th>title</th>
		  <th>author</th>
		  <th>price</th>
		  <th>publish</th>
		  <th>year</th>
		  <th>status</th>
		  <th>tags</th>
		  <th>impressions</th>
		</tr>
		<tr ng-repeat="book in shelf.books">
		  <td>{{book.type}}</td>
		  <td>{{book.title}}</td>
		  <td>{{book.author}}</td>
		  <td><em>{{book.price | currency:'&yen;':0}}</em></td>
		  <td>{{book.publish}}</td>
		  <td><em>{{book.year}}</em></td>
		  <td>{{book.status}}</td>
		  <td><span class="label label-info" ng-repeat="tag in book.tags">{{tag}}</span></td>
		  <td>{{book.impressions | limitTo:25}}<span ng-show="book.impressions.length > 25">...</span></td>
		</tr>
	  </table>
	  
	</div><!-- /container -->
	
	<!-- include libraries -->
	<script src="js/external/angular.min.js"></script>	

	<script src="js/app/app.js"></script>

  </body>
</html>
